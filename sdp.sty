%%% стандартни пакети

% поддръжка на български език
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,bulgarian]{babel}
\deftranslation[to=bulgarian]{Definition}{Дефиниция}
\deftranslation[to=bulgarian]{Theorem}{Теорема}

% листинги
\usepackage{listings}
\lstset{language=c++,
        basicstyle=\ttfamily,
        columns=fullflexible,
        keywordstyle=\color{blue},
        extendedchars=false,
        texcl=true,
        escapechar=@,
        showstringspaces=false,
        keepspaces=true}

% декларативна графика
\usepackage{tikz}
\usetikzlibrary{matrix}
\usetikzlibrary{positioning}
\usetikzlibrary{overlay-beamer-styles}

% указател към #1 с име #2 на позиция #3
\newcommand{\pointerto}[3]{
  \node (x) [#3=of #1] {#2};
  \draw[pointer] (x) to (#1);
}

% начална двойна клетка с данни
\newcommand{\doublecell}[3][]{
  \matrix (#2) [array,nodes={minimum width=6ex},#1] {
    |(#2data)| #3 \& |(#2next)|\\
  };
}

% следваща двойна клетка с данни
\newcommand{\nextdoublecell}[3]{
  \doublecell[right=4ex of #3next]{#1}{#2}
  \draw[pointer] (#3next.center) to (#1data);
}

% зачертана кутия, означаваща NULL указател
\newcommand{\nullptr}[1]{
  \draw (#1.north east) to (#1.south west);
}

% правене на нови команди
\usepackage{makecmds}

% поддръжка на линкове
\usepackage{hyperref}

% дървета
\usepackage{forest}

% коментари
\usepackage{comment}

% вертикално сливане на клетки от повече от един ред
\usepackage{multirow}

% цветни таблици
\usepackage{colortbl}

% двойни разделителни черти в таблици
\usepackage{hhline}

% вертикално подравняване на \includegraphics
\usepackage[export]{adjustbox}

% математически символи
\usepackage{amsmath}

% шахматни символи
\usepackage{chessfss}

%%% кратки команди за форматиране

% код
\renewcommand{\tt}{\texttt}

% код в червено
\newcommand{\tta}[1]{\tt{\alert{#1}}}

% код с форматиране
\newcommand{\lst}{\lstinline}

% син цвят по подразбиране
\colorlet{diagramblue}{blue!60!green!40}

%%% настройки общи за всички слайдове
\mode<presentation>
{
  \usetheme{CambridgeUS}
  \usecolortheme{dolphin}
}
\author{Трифон Трифонов}
\institute[СДП-КН 17/18]{\small Структури от данни и програмиране,\\
спец. Компютърни науки, 1 поток, 2017/18 г.}
\subject{LectureSlides}

%%% среди

% таблица от битове
\newenvironment{bittable}{%
  \setlength{\tabcolsep}{4pt}
  \begin{tabular}{*9c}
}{%
  \end{tabular}
}

%%% макроси

%% диаграми

% стрелка напред, сочеща следваща клетка
\newcommand{\nextarrow}{\xrightarrow{\hspace{5ex}}}

% двойна кутия за свързани структури
\newcommand{\dualcell}[2]{\begin{tabular}{|c|c|}
                            \hline
                            \rowcolor{diagramblue}
                            $#1$&$#2$\\
                            \hline
                          \end{tabular}}

% двойна кутия със указател към следващата
\newcommand{\nextcell}[1]{\dualcell{#1}{\nextarrow\hspace{-4ex}}}

% двойна кутия без указател към следващата
\newcommand{\nilcell}[1]{\dualcell{#1}{\cellcolor{lightgray}\hspace{2ex}}}

% шахматна дъска 4x4
\newenvironment{chessboard}[2]{\begin{tabular}{|*{#1}{m{#2}|}@{}c@{}}}{\end{tabular}}

% безопасен temporal, който работи и вътре в таблици
\newcommand{\safetemporal}[4]{\alt<#1>{#3}{\alt<#1->{#4}{#2}}}

% бяло квадратче на шахматна дъска
\newcommand{\ws}{\phantom\BlackKnightOnWhite}

% черен кон
\newcommand{\bk}{\BlackKnightOnWhite}

% бял кон
\newcommand{\wk}{\WhiteKnightOnWhite}

% черен кон на слайд с даден номер
\newcommand{\bks}[1]{\safetemporal{#1}\ws\bk\wk}

% черен кон на слайд с даден номер и с индекс на пореден ход
\newcommand{\bkn}[1]{\safetemporal{#1}\ws\bk{\wk\hspace{-0.55em}{\scriptsize$^{#1}$}}}

% покажи засивен текст
\newcommand{\gc}[2]{\onslide<#1>{\textcolor{gray}{#2}}}

% голяма стрелка нагоре (указател)
\newcommand{\bua}{\bigg\uparrow}

% голяма стрелка надолу (указател)
\newcommand{\bda}{\bigg\downarrow}

% непроходимо квадратче
\newcommand{\noway}{$\bigotimes$}

% проходимо квадратче
\renewcommand{\empty}{\phantom{$\bigotimes$}}

% пореден гребен на вълната
\newcommand{\wave}[1]{\alt<#1->{#1}\empty}

% разпъвач
\def\mystrut(#1,#2){\vrule height #1 depth #2 width 0pt}

% цветна клетка
\newcommand{\cbox}[2]{\begin{tabular}[t]{|c|}\hline \rowcolor{#1} #2 \\\hline\end{tabular}}

% откриване на въпрос
\newcommand{\rvl}[1]{\alt<+->{#1}?}
